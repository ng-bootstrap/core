<div class="component-demo">
  <a [id]="id"></a>
  <h2>
    <a [routerLink]="" [fragment]="id" ngbdFragment title="Anchor link to demo: {{id}}">
      <svg:svg ngbdIcon="link" aria-hidden="true" />
    </a>
    <span>{{ demoTitle }}</span>
    <button type="button" class="btn btn-light mr-2 toggle-code" [class.active]="showCode"
      (click)="showCode = !showCode; trackShowCodeClick()">
      <svg class="mr-1" ngbdIcon="code" aria-hidden="true" width="18" height="18"></svg>
      Code
    </button>
    <a role="button" (click)="trackStackBlitzClick()" class="stackblitz btn btn-light" target="_blank"
      href="/stackblitzes/{{component}}/{{id}}/stackblitz.html" title="Edit in StackBlitz">
      <svg class="mr-1" ngbdIcon="stackblitz" aria-hidden="true"  width="18" height="18"></svg>
      StackBlitz
    </a>
  </h2>
  <div class="card">
    <div *ngIf="showCode" class="bg-light border-bottom tabset-code">
      <ngb-tabset [type]="hasManyFiles ? 'pills' : 'tabs'" [class.d-flex]="hasManyFiles" [class.flex-row]="hasManyFiles"
        [orientation]="hasManyFiles ? 'vertical' : 'horizontal'">
        <ng-template [ngIf]="files" [ngIfElse]="old">
          <ngb-tab *ngFor="let file of files; index as index" id="{{component}}-{{file.name}}-{{index}}">
            <ng-template ngbTabTitle>
              <span class="text-truncate" [title]="tabType(file.name)">{{file.name}}</span>
            </ng-template>
            <ng-template ngbTabContent>
              <ngbd-code [snippet]="getFileSnippet(file)"></ngbd-code>
            </ng-template>
          </ngb-tab>
        </ng-template>

        <ng-template #old>
          <ngb-tab id="{{component}}-{{id}}-html">
            <ng-template ngbTabTitle>
              <span class="ml-2">{{component}}-{{id}}.html</span>
            </ng-template>
            <ng-template ngbTabContent>
              <ngbd-code [snippet]="markupSnippet"></ngbd-code>
            </ng-template>
          </ngb-tab>
          <ngb-tab id="{{component}}-{{id}}-typescript">
            <ng-template ngbTabTitle>
              <span class="ml-2">{{component}}-{{id}}.ts</span>
            </ng-template>
            <ng-template ngbTabContent>
              <ngbd-code [snippet]="codeSnippet"></ngbd-code>
            </ng-template>
          </ngb-tab>
        </ng-template>
      </ngb-tabset>
    </div>
    <div class="card-body">
      <ng-content></ng-content>
    </div>

  </div>
</div>
